# Функциональное тестирование

## Тестирование лайков к постам

1. Нажатие на кнопку "лайка" серого цвета увеличивает суммарное число на единицу;
    > `BUG`: При нажатии на кнопку лайка перед тем, как цвет поменяется, на месте "сердечка" на мгновение появляется лоадер.
    >
    > ![like loader](img/like_loader.jpg)
2. Нажатие на кнопку "лайка" фиолетового цвета уменьшает суммарное число на единицу;
3. На каждый "лайк" автору приходит уведомление: "Пользователь @имя_пользователя оценил ваш пост";
4. На каждый отмененный "лайк" уведомление автору не приходит.

## Тестирование комментариев к постам

1. При нажатии на кнопку "комментарий" под постом вылезают все комментарии;
    > `BUG`: При нажатии на кнопку комментария перед тем, как они появятся, на месте "сообщения" на мгновение появляется лоадер.
    >
    > ![comment loader](img/comment_loader.jpg)
2. При повторном нажатии комментарии скрываются;
3. Обычное сообщение с комментарием успешно оставляется под постом при нажатии на кнопку "Отправить";
4. Сообщение с комментарием отправляется с помощью сочетания клавиш "Ctrl + Enter";
5. При попытке отправить пустой комментарий вылезает ошибка: "Вы ввели пустой комментарий";
6. При нажатии автором поста на крестик, расположенный справа от каждого сообщения, комментарий этого пользователя успешно удаляется;
7. При нажатии автором комментария на крестик, расположенный справа от его сообщения, комментарий успешно удаляется

## Тестирование создания авторской подписки

1. Нажатие "плюса" около "Уровни подписок" приводит к вылезанию модального окна с пустыми формами для заполнения;
2. Модальное окно успешно закрывается при нажатии крестика или кнопки "Отменить" в окне;
3. Модальное окно не закрывается при нажатии вне его площади;
4. Заголовок успешно валидируется при количестве символов в нем не меньше единицы и не больше 30:
    - При соблюдении этого и последующих условий подписка успешно создается;
    - Иначе вылезает одна из двух ошибок: "Символов в заголовке больше 30" и "Символов в заголовке меньше 1" соотвтественно.
    - При написании спецсимволов появится ошибка: "В заголовке разрешены латиница, кириллица, числа, символы !@#$%^&*_ и пробел между словами"
5. Стоимость успешно валидируется при сумме, меньшей 1000000000 и большей 5 рублей:
    - При соблюдении условий подписка успешно создается;
    - При попытке написать символ, отличный от символов цифр, поле никак не заполняется;
        > `BUG`: Попытка вставить текст, содержащий символы, отличные от цифр, обернется следующей ошибкой: "Укажите цену меньше 1"
        > ![price error](img/price_error.png)
    - В случае непопадания вводимого числа в указанный промежуток, вылезут следующие ошибки: "Укажите цену не больше 1000000000" и "Укажите цену меньше 1".
6. Текст успешно валидируется при количестве символов больше 1 и меньше 128:
    - При соблюдении условий подписка успешно создается;
    - Иначе вылезает одна из двух ошибок: "Символов в тексте больше 128" или "Символов в тексте меньше 1" соотвтетственно.
7. При отсутствии картинки подписка успешно создается.

## Тестирование изменения/удаления авторской подписки

> `NOTE`: Тестирование изменения и удаления авторской подписки было решено объединить, так как функционал изменения включает в себя функционал удааления подписки.

1. При уже созданной подписки нажатие кнопки "Изменить" приводит к вылезанию модального окна с заполненными текущими формами и тремя кнопками снизу: "Изменить", "Отменить", "Удалить";
2. Поведение при валидации идентично созданию подписки;
3. Нажатие кнопки "Изменить" откроет модально окно, внизу которого будет красная кнопка "Удалить". Нажатие этой кнопки удаляет подписку;

> `BUG`: В случае, когда донатер покупает подписку, а автор затем ее удаляет, человек лишается заплаченного контента и деньги обратно не вернутся.
